EduManager 问题集

1. 聊天记录恢复

2. 缓存问题导致的一些数据不及时更新										
	如：1. 更新了观看次数，但是因为缓存的原因，刷新之后，不是新的数据。		--- 缓存时间过后，就会没问题了。。但是离线的时候，仍然会读取旧缓存。日了狗
		2. 刷新不出新创建的备课通知   -- 好像是不存在这个问题

3. 跟 socketio 服务器断开时的数据发送策略需要重新思考下

4. 在 worker 查询通知期间，若网络无法访问消息服务器，则查询通知失败，并且没有做重试		-- 用worker的重试策略进行操作 解决

5. 本地没有通知的情况下，去查询最新通知，会不会返回很多通知？ 当用户清除了app的数据的时候	-- 解决

6. 同步策略的不断轮询和网络环境变更，networkstate receiver 的不断ping，很消耗性能。  


------------------------------------------------

已知问题，因平台限制，无法解决的：

通知的获取。程序如果在后台，一分钟后就会被杀死，这时候无法通过服务获取通知。
采用worker的方式，但是如果程序是被杀死的话，worker也只能在程序打开后才能获取到通知。




对于聊天记录最新消息的记录：

1. 后台 新建ack表， 记录 私聊，群聊， 服务器跟客户端最后通信的记录的 id。

2. 客户端 新建ack表，记录一下与服务器的ack记录表。 在用户退出群聊时，才发送最后的ack给后台。如果程序是最后被杀死的。那么就没办法了。

3. 新增两个事件。

chatMsg_ack

chatNotification_ack

